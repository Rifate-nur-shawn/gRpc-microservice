syntax = "proto3";

package stream;

option go_package = "github.com/rifate-nur-shawn/gRpc-microservice/pb/proto/stream";

// Calculator service with multiple streaming patterns
service Calculator {
  // 1. Unary RPC
  rpc Adder(AddRequest) returns (AddResponse);

  // 2. Server Streaming RPC
  rpc GenarateFibonacci (FibonacciRequest) returns (stream FibonacciResponse);

  // 3. Bidirectional Streaming (Both sides stream)
  rpc BiStreaming (stream BiRequest) returns (stream BiResponse);

  // 4. Client Streaming RPC
  rpc SendNumbers (stream NumberRequest) returns (NumberResponse);
}

// --- Messages for Adder ---
message AddRequest {
     int32 a = 1;
     int32 b = 2;
}

message AddResponse {
     int32 result = 1;
}

// --- Messages for Fibonacci ---
message FibonacciRequest {
      int32 n = 1;
}

message FibonacciResponse {
      int32 value = 1;
}

// --- Messages for BiStreaming ---
message BiRequest {
      string message = 1;
      int32 number = 2;
}

message BiResponse {
      string message = 1;
      int32 result = 2;
}

// --- Messages for SendNumbers ---
message NumberRequest {
      int32 number = 1;
}

message NumberResponse {
      int32 sunber = 1;
      int32 sum = 2;
}
