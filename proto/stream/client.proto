syntax ="proto3";

package calculate;

option go_package = "github.com/rifate-nur-shawn/gRpc-microservice/pb/stream";

service Calculator {
  // Unary (One request, One response)
  rpc Adder(AddRequest) returns (AddResponse);

  // Server Streaming (One request, Stream of responses)
  rpc GenarateFibonacci (FibonacciRequest) returns (stream FibonacciResponse);

  // Client Streaming (Stream of requests, One response)
  // The 'stream' keyword is placed before the Request message
  rpc ComputeAverage (stream AverageRequest) returns (AverageResponse);
}

// --- Messages for Adder ---
message AddRequest {
     int32 a = 1;
     int32 b = 2;
}

message AddResponse {
     int32 result = 1;
}

// --- Messages for Fibonacci ---
message FibonacciRequest {
      int32 n = 1;
}

message FibonacciResponse {
      int32 value = 1;
}

// --- Messages for ComputeAverage (Client Streaming) ---
message AverageRequest {
      int32 number = 1;
}

message AverageResponse {
      double result = 1;
}
